parameters:
  runtime: ''
  outputPath: ''

steps:
- task: UseDotNet@2
  displayName: 'Use .NET Core sdk >=3.x'
  inputs:
    packageType: sdk
    version: 3.x
- script: dotnet publish -c Release -r ${{ parameters.runtime }} -o ${{ parameters.outputPath }}
  workingDirectory: 'src/ironmunge'
  displayName: 'dotnet publish: ironmunge'
- script: dotnet publish -c Release -r ${{ parameters.runtime }} -o ${{ parameters.outputPath }}
  workingDirectory: 'src/SaveManager'
  displayName: 'dotnet publish: SaveManager'
- task: PublishBuildArtifacts@1
  inputs:
    pathtoPublish: ${{ parameters.outputPath }}
    ArtifactName: 'pub-${{ parameters.runtime }}'
